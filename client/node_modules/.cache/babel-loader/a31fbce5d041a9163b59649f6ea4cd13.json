{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\punith123\\\\Desktop\\\\Project1\\\\gmat2020\\\\client\\\\src\\\\containers\\\\SignUp.jsx\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.postSignUpUser = async () => {\n      console.log(this.state.user);\n      const userRes = await fetch('/signup', {\n        method: 'POST',\n        body: JSON.stringify(this.state.user),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      try {\n        const userObj = await userRes.json();\n        console.log(userObj);\n\n        if (!userObj.error) {\n          console.log(userRes.status);\n          this.setState({\n            name: '',\n            email: '',\n            password: '',\n            confirmPassword: '',\n            message: ['Sign Up Successful', 'green'],\n            loading: false\n          }, () => {\n            setTimeout(() => {\n              this.props.history.push('/');\n            }, 500);\n          });\n        } else {\n          this.setState({ ...this.state,\n            loading: false,\n            message: ['Unable to Sign Up, try later', 'red']\n          });\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    this.onNameChange = e => {\n      this.setState({ ...this.state,\n        name: e.target.value\n      });\n    };\n\n    this.onEmailChange = e => {\n      this.setState({ ...this.state,\n        email: e.target.value\n      });\n    };\n\n    this.onPasswordChange = e => {\n      this.setState({ ...this.state,\n        password: e.target.value\n      });\n    };\n\n    this.onConfirmPassChange = e => {\n      this.setState({ ...this.state,\n        confirmPassword: e.target.value\n      });\n    };\n\n    this.onHandleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.password !== this.state.confirmPassword) {\n        this.setState({ ...this.state,\n          isMatch: false,\n          message: ['Password Missmatch', 'red'],\n          loading: false\n        });\n      } else if (this.state.password.length < 6 && this.state.password.length < 6) {\n        this.setState({ ...this.state,\n          isMatch: false,\n          message: ['Password length must be greater than 6', 'red'],\n          loading: false\n        });\n      } else {\n        const data = {\n          name: this.state.name,\n          email: this.state.email,\n          password: this.state.password\n        };\n        console.log(data);\n        this.setState({\n          isMatch: true,\n          user: data,\n          message: [],\n          loading: true\n        }, () => this.postSignUpUser());\n      }\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      isMatch: true,\n      message: [],\n      user: {},\n      loading: false\n    };\n    this.postSignUpUser = this.postSignUpUser.bind(this);\n    this.onHandleSubmit = this.onHandleSubmit.bind(this);\n    this.onNameChange = this.onNameChange.bind(this);\n    this.onEmailChange = this.onEmailChange.bind(this);\n    this.onPasswordChange = this.onPasswordChange.bind(this);\n    this.onConfirmPassChange = this.onConfirmPassChange.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-5 signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"credential-form\",\n      onSubmit: this.onHandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"name\",\n      onChange: this.onNameChange,\n      value: this.state.name,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      id: \"email\",\n      onChange: this.onEmailChange,\n      value: this.state.email,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"password\",\n      onChange: this.onPasswordChange,\n      value: this.state.password,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), !this.state.isMatch ? /*#__PURE__*/React.createElement(\"small\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 44\n      }\n    }, this.state.message[0]) : ''), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"confirm-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"confirm-password\",\n      onChange: this.onConfirmPassChange,\n      value: this.state.confirmPassword,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }), !this.state.isMatch ? /*#__PURE__*/React.createElement(\"small\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 44\n      }\n    }, this.state.message[0]) : ''), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Already Registered ?\", /*#__PURE__*/React.createElement(Link, {\n      className: \"signup-link\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, \"Submit\"), this.state.loading ? /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        color: 'blue',\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 43\n      }\n    }, \"Please Wait....\") : /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        color: this.state.message[1],\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, this.state.message[0]))));\n  }\n\n}\n\nexport default withRouter(SignUp);","map":{"version":3,"sources":["C:/Users/punith123/Desktop/Project1/gmat2020/client/src/containers/SignUp.jsx"],"names":["React","Component","Link","withRouter","SignUp","constructor","props","postSignUpUser","console","log","state","user","userRes","fetch","method","body","JSON","stringify","headers","userObj","json","error","status","setState","name","email","password","confirmPassword","message","loading","setTimeout","history","push","onNameChange","e","target","value","onEmailChange","onPasswordChange","onConfirmPassChange","onHandleSubmit","preventDefault","isMatch","length","data","bind","render","color","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, withRouter} from 'react-router-dom'\r\n\r\nclass SignUp extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            name : '',\r\n            email : '',\r\n            password : '',\r\n            confirmPassword : '',\r\n            isMatch : true,\r\n            message : [],\r\n            user : {},\r\n            loading : false\r\n        }\r\n        this.postSignUpUser = this.postSignUpUser.bind(this)\r\n        this.onHandleSubmit = this.onHandleSubmit.bind(this)\r\n        this.onNameChange = this.onNameChange.bind(this)\r\n        this.onEmailChange = this.onEmailChange.bind(this)\r\n        this.onPasswordChange = this.onPasswordChange.bind(this)\r\n        this.onConfirmPassChange = this.onConfirmPassChange.bind(this)\r\n\r\n    }\r\n\r\n    postSignUpUser = async()=>{\r\n        console.log(this.state.user)\r\n        const userRes = await fetch('/signup', {\r\n            method : 'POST',\r\n            body : JSON.stringify(this.state.user),\r\n            headers : {\r\n                'Content-Type' : 'application/json'\r\n            }\r\n        })\r\n        try {\r\n            const userObj = await userRes.json()\r\n            console.log(userObj)\r\n\r\n            if(!userObj.error){\r\n                console.log(userRes.status)\r\n                this.setState({\r\n                    name : '',\r\n                    email : '',\r\n                    password : '',\r\n                    confirmPassword : '',\r\n                    message : ['Sign Up Successful', 'green'],\r\n                    loading : false\r\n                },\r\n                ()=> {\r\n                    setTimeout(()=>{\r\n                        this.props.history.push('/')\r\n                    }, 500)\r\n                    }\r\n                )\r\n                \r\n            }else{\r\n                this.setState({\r\n                    ...this.state,\r\n                    loading : false,\r\n                    message : ['Unable to Sign Up, try later', 'red']\r\n                })\r\n            }\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n        \r\n    }\r\n\r\n    onNameChange = (e)=>{\r\n        this.setState({\r\n            ...this.state, \r\n            name : e.target.value\r\n        })\r\n    }\r\n\r\n    onEmailChange = (e)=>{\r\n        this.setState({\r\n            ...this.state, \r\n            email : e.target.value\r\n        })\r\n    }\r\n\r\n    onPasswordChange = (e)=>{\r\n        this.setState({\r\n            ...this.state, \r\n            password : e.target.value\r\n        })\r\n    }\r\n\r\n    onConfirmPassChange = (e)=>{\r\n        this.setState({\r\n            ...this.state, \r\n            confirmPassword : e.target.value\r\n        })\r\n    }\r\n\r\n    onHandleSubmit = (e)=>{\r\n        e.preventDefault();\r\n        if(this.state.password !== this.state.confirmPassword){\r\n            this.setState({\r\n                ...this.state,\r\n                isMatch : false,\r\n                message : ['Password Missmatch','red'],\r\n                loading : false\r\n            })\r\n        }else if(this.state.password.length <6 && this.state.password.length <6){\r\n            this.setState({\r\n                ...this.state,\r\n                isMatch : false,\r\n                message : ['Password length must be greater than 6', 'red'],\r\n                loading : false\r\n            })\r\n        }else{\r\n            const data = {name : this.state.name, email : this.state.email, password : this.state.password}\r\n            console.log(data)\r\n            this.setState({\r\n                isMatch : true,\r\n                user : data,\r\n                message : [],\r\n                loading : true\r\n            },\r\n            ()=>this.postSignUpUser()\r\n            )\r\n        } \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"col-md-5 signup\">\r\n                <h2 className=\"text-center\">Sign Up</h2>\r\n                <form className=\"credential-form\" onSubmit={this.onHandleSubmit}>\r\n                    <div className=\"form-group\">\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"name\" \r\n                    onChange={this.onNameChange}\r\n                    value={this.state.name} required/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"email\" \r\n                    onChange={this.onEmailChange}\r\n                    value={this.state.email} required/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"password\" \r\n                    onChange={this.onPasswordChange}\r\n                    value={this.state.password} required/>\r\n                    {!this.state.isMatch ? <small style={{color:'red'}}>{this.state.message[0]}</small> : ''}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label htmlFor=\"confirm-password\">Confirm Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"confirm-password\" \r\n                    onChange={this.onConfirmPassChange}\r\n                    value={this.state.confirmPassword} required/>\r\n                    {!this.state.isMatch ? <small style={{color:'red'}}>{this.state.message[0]}</small> : ''}\r\n                    </div>\r\n\r\n                    <p>Already Registered ?\r\n                        <Link className=\"signup-link\" to=\"/\">Login</Link>\r\n                    </p>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                    {this.state.loading ? <h6 style={{color:'blue',marginTop:'10px'}}>Please Wait....</h6> : \r\n                    <h6 style={{color:this.state.message[1], marginTop:'10px'}}>{this.state.message[0]}</h6>}\r\n                </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(SignUp);"]},"metadata":{},"sourceType":"module"}